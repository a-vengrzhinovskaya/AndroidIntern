package com.example.androidintern

import android.content.Intent
import android.os.Bundle
import android.util.Log
import androidx.appcompat.app.AppCompatActivity
import androidx.recyclerview.widget.GridLayoutManager
import com.example.androidintern.databinding.ActivityMainBinding
import com.google.gson.Gson

private const val JSON_STRING =
    "{\"photos\":{\"page\":1,\"pages\":1063,\"perpage\":100,\"total\":106271,\"photo\":[{\"id\":\"52284970854\",\"owner\":\"37911116@N04\",\"secret\":\"c75f840403\",\"server\":\"65535\",\"farm\":66,\"title\":\"DSCF1188\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284970624\",\"owner\":\"37911116@N04\",\"secret\":\"5ac12f2a2f\",\"server\":\"65535\",\"farm\":66,\"title\":\"DSCF1191 millie likes a little earthy cool spot in the garden\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52285190630\",\"owner\":\"37911116@N04\",\"secret\":\"b71f0d7688\",\"server\":\"65535\",\"farm\":66,\"title\":\"DSCF1190\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284324388\",\"owner\":\"62595749@N03\",\"secret\":\"7c3e0978bb\",\"server\":\"65535\",\"farm\":66,\"title\":\"Tabby - Mittens\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284198418\",\"owner\":\"185308466@N03\",\"secret\":\"a69026aaec\",\"server\":\"65535\",\"farm\":66,\"title\":\"IMG_7495v2\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284176868\",\"owner\":\"45148911@N06\",\"secret\":\"60d18756f4\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2068_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284181478\",\"owner\":\"45148911@N06\",\"secret\":\"6d99cb3e6c\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2077_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284181408\",\"owner\":\"45148911@N06\",\"secret\":\"6094754965\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2078_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284173186\",\"owner\":\"45148911@N06\",\"secret\":\"b7240092c5\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2080_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283194302\",\"owner\":\"45148911@N06\",\"secret\":\"4da0c76d8b\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2083_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283193432\",\"owner\":\"45148911@N06\",\"secret\":\"7f396dd7bd\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2090_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284655710\",\"owner\":\"45148911@N06\",\"secret\":\"03ea06b67d\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2093_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284439139\",\"owner\":\"45148911@N06\",\"secret\":\"e2c56a394b\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2094_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284179288\",\"owner\":\"45148911@N06\",\"secret\":\"53912608f8\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2097_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284169551\",\"owner\":\"45148911@N06\",\"secret\":\"b4a147750c\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2111_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284653315\",\"owner\":\"45148911@N06\",\"secret\":\"5f8f563667\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2113_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284652795\",\"owner\":\"45148911@N06\",\"secret\":\"e39f2fa89b\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2098_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283131832\",\"owner\":\"107703531@N02\",\"secret\":\"28590d65d3\",\"server\":\"0\",\"farm\":0,\"title\":\"20220625_103000\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283130337\",\"owner\":\"107703531@N02\",\"secret\":\"26e301cd99\",\"server\":\"0\",\"farm\":0,\"title\":\"Project 16_06_2022\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284374914\",\"owner\":\"107703531@N02\",\"secret\":\"5fc908483c\",\"server\":\"65535\",\"farm\":66,\"title\":\"20220618_112449\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284114798\",\"owner\":\"107703531@N02\",\"secret\":\"30850f8a96\",\"server\":\"65535\",\"farm\":66,\"title\":\"20220618_112436\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284491565\",\"owner\":\"30127322@N00\",\"secret\":\"3bf5b7fb4f\",\"server\":\"65535\",\"farm\":66,\"title\":\"8th Aug 2022\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284491370\",\"owner\":\"30127322@N00\",\"secret\":\"6e903090bd\",\"server\":\"65535\",\"farm\":66,\"title\":\"8th Aug 2022\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284017463\",\"owner\":\"30127322@N00\",\"secret\":\"85cca74d5e\",\"server\":\"65535\",\"farm\":66,\"title\":\"8th Aug 2022\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52284279450\",\"owner\":\"152603669@N08\",\"secret\":\"35ff9da4fa\",\"server\":\"65535\",\"farm\":66,\"title\":\"P8121858_DxO\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282717417\",\"owner\":\"51388540@N05\",\"secret\":\"9e61e15353\",\"server\":\"65535\",\"farm\":66,\"title\":\"13016 - Molly\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282713787\",\"owner\":\"147888418@N08\",\"secret\":\"7ac75878b6\",\"server\":\"65535\",\"farm\":66,\"title\":\"DSC00590\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282638892\",\"owner\":\"152030850@N07\",\"secret\":\"96135e5125\",\"server\":\"65535\",\"farm\":66,\"title\":\"ASK FOR LOVE (\\u6c42\\u611b) (\\uc0ac\\ub791\\uc744 \\ubd80\\ud0c1\\ud574)\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283509996\",\"owner\":\"51300219@N02\",\"secret\":\"2c649a29b8\",\"server\":\"65535\",\"farm\":66,\"title\":\"DP2M7983\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283737209\",\"owner\":\"30098550@N00\",\"secret\":\"0a24599964\",\"server\":\"65535\",\"farm\":66,\"title\":\"Muse through the open window\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283232436\",\"owner\":\"24354425@N03\",\"secret\":\"82d802eb24\",\"server\":\"65535\",\"farm\":66,\"title\":\"Yuba's Favorite Spot\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283236378\",\"owner\":\"196290180@N06\",\"secret\":\"7a6e687a7d\",\"server\":\"65535\",\"farm\":66,\"title\":\"I see ya\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283466514\",\"owner\":\"186463740@N04\",\"secret\":\"5c0c75f4f7\",\"server\":\"65535\",\"farm\":66,\"title\":\"Copain\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283198101\",\"owner\":\"186463740@N04\",\"secret\":\"6e2187e413\",\"server\":\"65535\",\"farm\":66,\"title\":\"Copain\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283460439\",\"owner\":\"195710405@N06\",\"secret\":\"0317790d21\",\"server\":\"65535\",\"farm\":66,\"title\":\"Escape\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283151713\",\"owner\":\"98665079@N03\",\"secret\":\"455fc10db3\",\"server\":\"65535\",\"farm\":66,\"title\":\"Le Chat - Le Cat\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283080431\",\"owner\":\"79907828@N00\",\"secret\":\"e7d33109b1\",\"server\":\"65535\",\"farm\":66,\"title\":\"\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282000587\",\"owner\":\"98587546@N00\",\"secret\":\"b12368088e\",\"server\":\"65535\",\"farm\":66,\"title\":\"Noodle\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283173279\",\"owner\":\"138837019@N04\",\"secret\":\"25b47312ef\",\"server\":\"65535\",\"farm\":66,\"title\":\"Fantasy World\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282834206\",\"owner\":\"196065966@N04\",\"secret\":\"d0d01449e7\",\"server\":\"65535\",\"farm\":66,\"title\":\"Locked up\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282830158\",\"owner\":\"47773005@N03\",\"secret\":\"f91d467d3c\",\"server\":\"65535\",\"farm\":66,\"title\":\"Sleeping Tiger\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52283291260\",\"owner\":\"12494104@N00\",\"secret\":\"12318ed617\",\"server\":\"65535\",\"farm\":66,\"title\":\"Wolfit & Wilton 2747\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282787736\",\"owner\":\"62950692@N03\",\"secret\":\"db10d17143\",\"server\":\"65535\",\"farm\":66,\"title\":\"Sumatran tiger Blijdorp LF1A0966\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282768621\",\"owner\":\"12494104@N00\",\"secret\":\"a88f74c165\",\"server\":\"65535\",\"farm\":66,\"title\":\"Wolfit & Wilton 2729\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281780302\",\"owner\":\"7141646@N02\",\"secret\":\"7ab1c9e5f9\",\"server\":\"65535\",\"farm\":66,\"title\":\"Tilburg\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282753183\",\"owner\":\"97555832@N08\",\"secret\":\"a06d18c32c\",\"server\":\"65535\",\"farm\":66,\"title\":\"Conchita_00218\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282905499\",\"owner\":\"37911116@N04\",\"secret\":\"a18f0fc678\",\"server\":\"65535\",\"farm\":66,\"title\":\"DSCF1153 happy mr sparrow\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282905089\",\"owner\":\"37911116@N04\",\"secret\":\"7d1b9d919f\",\"server\":\"65535\",\"farm\":66,\"title\":\"DSCF1168 moo-moo in the shade\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282572023\",\"owner\":\"12198857@N00\",\"secret\":\"c4ef7bf8cb\",\"server\":\"65535\",\"farm\":66,\"title\":\"Inky the brewery cat\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282966360\",\"owner\":\"12131771@N03\",\"secret\":\"c0823b4f23\",\"server\":\"65535\",\"farm\":66,\"title\":\"Tasha\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282370973\",\"owner\":\"35628821@N08\",\"secret\":\"452c72f050\",\"server\":\"65535\",\"farm\":66,\"title\":\"Chats, cats\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281377852\",\"owner\":\"35628821@N08\",\"secret\":\"df1c23069d\",\"server\":\"65535\",\"farm\":66,\"title\":\"Chats, cats\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282283131\",\"owner\":\"106123975@N05\",\"secret\":\"896c5dcb48\",\"server\":\"65535\",\"farm\":66,\"title\":\"Eye contact.\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281290937\",\"owner\":\"57224752@N08\",\"secret\":\"c0b726b440\",\"server\":\"65535\",\"farm\":66,\"title\":\"St Antonin\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281279992\",\"owner\":\"84648023@N08\",\"secret\":\"64babab982\",\"server\":\"65535\",\"farm\":66,\"title\":\"Direct Rail Services 'Keeping It Cool' Class 88, 88010\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281254992\",\"owner\":\"12303964@N00\",\"secret\":\"b872477d32\",\"server\":\"65535\",\"farm\":66,\"title\":\"IMG_0634 comfy cat\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281254902\",\"owner\":\"12303964@N00\",\"secret\":\"622102ed20\",\"server\":\"65535\",\"farm\":66,\"title\":\"IMG_0637 comfy cat\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282699105\",\"owner\":\"195650267@N02\",\"secret\":\"e876367907\",\"server\":\"65535\",\"farm\":66,\"title\":\"pattoune\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281091192\",\"owner\":\"10932600@N07\",\"secret\":\"802a56cc80\",\"server\":\"65535\",\"farm\":66,\"title\":\"craiyon_004052_Cat_Stonehenge_Sunrise_early_human\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281080017\",\"owner\":\"10932600@N07\",\"secret\":\"ec0be48692\",\"server\":\"65535\",\"farm\":66,\"title\":\"craiyon_003119_ultra_realistic_cat_licking_milk\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281986263\",\"owner\":\"30098550@N00\",\"secret\":\"227662b0e3\",\"server\":\"65535\",\"farm\":66,\"title\":\"Jimmy\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280935842\",\"owner\":\"45148911@N06\",\"secret\":\"f57af602f0\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2019_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282182029\",\"owner\":\"45148911@N06\",\"secret\":\"f9ca213838\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2032_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281926688\",\"owner\":\"45148911@N06\",\"secret\":\"e10c1f1d87\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2042_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281926188\",\"owner\":\"45148911@N06\",\"secret\":\"565c8b75b1\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2056_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281926143\",\"owner\":\"45148911@N06\",\"secret\":\"d4d61b9651\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2057_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282180094\",\"owner\":\"45148911@N06\",\"secret\":\"b20091ff0f\",\"server\":\"65535\",\"farm\":66,\"title\":\"EOSR5__24A2016_C1\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281854856\",\"owner\":\"66855284@N03\",\"secret\":\"721986377f\",\"server\":\"65535\",\"farm\":66,\"title\":\"Luna the Cat 2022 07 15 02\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282056379\",\"owner\":\"69385068@N08\",\"secret\":\"e5d6a89cb1\",\"server\":\"65535\",\"farm\":66,\"title\":\"DSC_2383\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282253895\",\"owner\":\"95492938@N00\",\"secret\":\"9cea0305ba\",\"server\":\"65535\",\"farm\":66,\"title\":\"Camouflage\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281777908\",\"owner\":\"90171279@N00\",\"secret\":\"7aa4a0cabd\",\"server\":\"65535\",\"farm\":66,\"title\":\"Happy Caturday\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282014194\",\"owner\":\"61949564@N00\",\"secret\":\"0c5c547b77\",\"server\":\"65535\",\"farm\":66,\"title\":\"0532022\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281864024\",\"owner\":\"153345427@N06\",\"secret\":\"7cdde60817\",\"server\":\"65535\",\"farm\":66,\"title\":\"#309 - Por Ti Cruzo La Tierra\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52282077640\",\"owner\":\"79921031@N00\",\"secret\":\"84e2ba5f91\",\"server\":\"65535\",\"farm\":66,\"title\":\"No disturb! Birdwatching!\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281608603\",\"owner\":\"73584213@N00\",\"secret\":\"3a7a985274\",\"server\":\"65535\",\"farm\":66,\"title\":\"Good morning. Don\\u2019t disturb me\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280594702\",\"owner\":\"156950022@N04\",\"secret\":\"d6843b2dab\",\"server\":\"65535\",\"farm\":66,\"title\":\"IMG20220731023241\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281593264\",\"owner\":\"98216376@N00\",\"secret\":\"8e1656796a\",\"server\":\"65535\",\"farm\":66,\"title\":\"cat at the stable\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281304278\",\"owner\":\"26203346@N03\",\"secret\":\"a7720056c9\",\"server\":\"65535\",\"farm\":66,\"title\":\"S8129139 DSC03692\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281772300\",\"owner\":\"26203346@N03\",\"secret\":\"86ba011911\",\"server\":\"65535\",\"farm\":66,\"title\":\"S8129142 DSC03695\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281225226\",\"owner\":\"137871149@N03\",\"secret\":\"815e00cd69\",\"server\":\"65535\",\"farm\":66,\"title\":\"Zoo Helsinki\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281169426\",\"owner\":\"190740139@N02\",\"secret\":\"9e31b2b180\",\"server\":\"65535\",\"farm\":66,\"title\":\"\\u3147\\u3145\\u3147\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281019621\",\"owner\":\"196223382@N03\",\"secret\":\"b0ee6e78c8\",\"server\":\"65535\",\"farm\":66,\"title\":\"Cat\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280938591\",\"owner\":\"189937942@N07\",\"secret\":\"c19b4f5355\",\"server\":\"65535\",\"farm\":66,\"title\":\"Puddy cat...\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281398300\",\"owner\":\"126237565@N08\",\"secret\":\"4f24af9da6\",\"server\":\"65535\",\"farm\":66,\"title\":\"2022-08-11 Kolau Nadiradze Street, Tbilisi\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281383610\",\"owner\":\"196260622@N03\",\"secret\":\"6460dbb829\",\"server\":\"65535\",\"farm\":66,\"title\":\"117034813_314333639767175_537574512093572480_n_17884875586663980\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280901026\",\"owner\":\"196260622@N03\",\"secret\":\"8274b61875\",\"server\":\"65535\",\"farm\":66,\"title\":\"92148998_553860718840599_1486081331110857977_n_17844685085062374\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280915008\",\"owner\":\"196260622@N03\",\"secret\":\"d45c35523c\",\"server\":\"65535\",\"farm\":66,\"title\":\"95259117_333426817624096_6433693363291172376_n_18104956243136740\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281382960\",\"owner\":\"196260622@N03\",\"secret\":\"cff647c7a8\",\"server\":\"65535\",\"farm\":66,\"title\":\"80875747_618315978740145_7653209451807166566_n_17857779523720884\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280900551\",\"owner\":\"196260622@N03\",\"secret\":\"d62d503584\",\"server\":\"65535\",\"farm\":66,\"title\":\"79374461_168118667613427_3892779283350397615_n_18075818275167345\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52279917202\",\"owner\":\"196260622@N03\",\"secret\":\"10d2ab2b35\",\"server\":\"65535\",\"farm\":66,\"title\":\"78769719_153511845879309_8436421105906884251_n_18116720395010883\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281164354\",\"owner\":\"196260622@N03\",\"secret\":\"4a9b05db86\",\"server\":\"65535\",\"farm\":66,\"title\":\"74698385_791586771291559_3707101746202612904_n_18063902629199087\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281163914\",\"owner\":\"196260622@N03\",\"secret\":\"42ca0965d2\",\"server\":\"65535\",\"farm\":66,\"title\":\"69648805_2658792237505795_1052407056096203117_n_17845887307653774\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52279916467\",\"owner\":\"196260622@N03\",\"secret\":\"c6c152f4f3\",\"server\":\"65535\",\"farm\":66,\"title\":\"61560339_190283938649633_7253138665799606793_n_17955565183295007\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280913953\",\"owner\":\"196260622@N03\",\"secret\":\"cfddde3f13\",\"server\":\"65535\",\"farm\":66,\"title\":\"67148032_2529692993747487_5888446236523697357_n_18064531591081862\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281381770\",\"owner\":\"196260622@N03\",\"secret\":\"65c8cb60e2\",\"server\":\"65535\",\"farm\":66,\"title\":\"66077247_366121097425387_2395995510153366617_n_18064515529129000\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281381685\",\"owner\":\"196260622@N03\",\"secret\":\"e020ab1ce2\",\"server\":\"65535\",\"farm\":66,\"title\":\"64241608_179248849753766_2691050727447394592_n_17854270987441867\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281163169\",\"owner\":\"196260622@N03\",\"secret\":\"79e66fcd54\",\"server\":\"65535\",\"farm\":66,\"title\":\"59838972_363492634524573_4016725946516740895_n_17849068285446022\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280913368\",\"owner\":\"196260622@N03\",\"secret\":\"b48286d3eb\",\"server\":\"65535\",\"farm\":66,\"title\":\"59253106_2443136689029827_3594703955560452646_n_17879428678342948\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52280899076\",\"owner\":\"196260622@N03\",\"secret\":\"757635cc76\",\"server\":\"65535\",\"farm\":66,\"title\":\"54800603_1104383996414352_8565707597235542242_n_17850053728392476\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0},{\"id\":\"52281163014\",\"owner\":\"196260622@N03\",\"secret\":\"8a6a0ce979\",\"server\":\"65535\",\"farm\":66,\"title\":\"56627381_570618080114281_2496195611031350644_n_17848200886417000\",\"ispublic\":1,\"isfriend\":0,\"isfamily\":0}]},\"stat\":\"ok\"}"

class MainActivity : AppCompatActivity() {
    private lateinit var binding: ActivityMainBinding
    private val onPhotoClick = { url: String ->
        openImage(url)
    }

    private val adapter = PhotoAdapter(emptyList(), onPhotoClick)

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)

        printPhotos()
        initRV()
        adapter.setContent(getPhotos().photos.photo)
    }

    private fun getPhotos(): Picture =
        Gson().fromJson(JSON_STRING, Picture::class.java)

    private fun initRV() {
        binding.rvPhotos.layoutManager = GridLayoutManager(this, 2)
        binding.rvPhotos.adapter = adapter
    }

    private fun openImage(url: String) {
        val intent = Intent(this, PhotoActivity::class.java).apply {
            putExtra(PhotoActivity.URL_KEY, url)
        }
        startActivity(intent)
    }
}